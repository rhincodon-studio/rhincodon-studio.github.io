"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6847],{7227:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>i,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"bpmn/runtime_to_history","title":"Camunda Runtime \u2192 History \u751f\u547d\u9031\u671f\u6d41\u7a0b\u5716","description":"\u8aaa\u660e\u91cd\u9ede","source":"@site/docs/bpmn/runtime_to_history.md","sourceDirName":"bpmn","slug":"/bpmn/runtime_to_history","permalink":"/docs/bpmn/runtime_to_history","draft":false,"unlisted":false,"editUrl":"https://github.com/rhincodon-studio/my-website/tree/main/docs/bpmn/runtime_to_history.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Camunda BPM\uff08\u6216 Flowable / Activiti\uff09 \u7684\u6838\u5fc3\u8cc7\u6599\u8868\uff0c\u4e00\u5171\u5206\u70ba\u4e94\u5927\u985e\u3002","permalink":"/docs/bpmn/act_core_tables"},"next":{"title":"Apache Airflow","permalink":"/docs/airflow"}}');var t=r(4848),d=r(8453);const i={},c="Camunda Runtime \u2192 History \u751f\u547d\u9031\u671f\u6d41\u7a0b\u5716",l={},h=[{value:"\u8aaa\u660e\u91cd\u9ede",id:"\u8aaa\u660e\u91cd\u9ede",level:2},{value:"\u5be6\u969b\u751f\u547d\u9031\u671f\u7bc4\u4f8b\uff08\u4ee5 User Task \u70ba\u4f8b\uff09",id:"\u5be6\u969b\u751f\u547d\u9031\u671f\u7bc4\u4f8b\u4ee5-user-task-\u70ba\u4f8b",level:2},{value:"\u5ef6\u4f38\u88dc\u5145\uff1a\u6b77\u53f2\u7b49\u7d1a\uff08History Level\uff09",id:"\u5ef6\u4f38\u88dc\u5145\u6b77\u53f2\u7b49\u7d1ahistory-level",level:2}];function x(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",mermaid:"mermaid",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"camunda-runtime--history-\u751f\u547d\u9031\u671f\u6d41\u7a0b\u5716",children:"Camunda Runtime \u2192 History \u751f\u547d\u9031\u671f\u6d41\u7a0b\u5716"})}),"\n",(0,t.jsx)(n.mermaid,{value:'flowchart TD\n    subgraph START["\ud83d\ude80 \u6d41\u7a0b\u555f\u52d5\u968e\u6bb5"]\n        A1[ACT_RE_PROCDEF<br>\u6d41\u7a0b\u5b9a\u7fa9]\n        A2[ACT_RU_EXECUTION<br>\u5efa\u7acb\u6d41\u7a0b\u5be6\u4f8b Process Instance]\n        A3[ACT_RU_VARIABLE<br>\u521d\u59cb\u5316\u6d41\u7a0b\u8b8a\u6578]\n        A4[ACT_RU_TASK<br>\u5efa\u7acb\u7b2c\u4e00\u500b\u4efb\u52d9 User Task]\n    end\n\n    subgraph RUNTIME["\u2699\ufe0f \u57f7\u884c\u4e2d\u968e\u6bb5"]\n        R1[ACT_RU_TASK<br>\u4efb\u52d9\u5f85\u8fa6 / \u57f7\u884c\u4e2d]\n        R2[ACT_RU_VARIABLE<br>\u8b8a\u6578\u6301\u7e8c\u66f4\u65b0]\n        R3[ACT_RU_EVENT_SUBSCR<br>\u4e8b\u4ef6\u8a02\u95b1 Signal/Message]\n        R4[ACT_RU_JOB<br>\u6392\u7a0b / \u975e\u540c\u6b65\u5de5\u4f5c]\n        R5[ACT_RU_EXT_TASK<br>\u5916\u90e8\u4efb\u52d9]\n        R6[ACT_RU_INCIDENT<br>\u7570\u5e38\u4e8b\u4ef6 Incident]\n    end\n\n    subgraph HISTORY["\ud83d\udd70\ufe0f \u6b77\u53f2\u6b78\u6a94\u968e\u6bb5"]\n        H1[ACT_HI_PROCINST<br>\u6d41\u7a0b\u5be6\u4f8b\u7d50\u675f\u7d00\u9304]\n        H2[ACT_HI_ACTINST<br>\u7bc0\u9ede Activity \u57f7\u884c\u7d00\u9304]\n        H3[ACT_HI_TASKINST<br>\u4efb\u52d9\u5b8c\u6210\u7d00\u9304]\n        H4[ACT_HI_VARINST<br>\u8b8a\u6578\u6b77\u53f2\u7d00\u9304]\n        H5[ACT_HI_DETAIL<br>\u8b8a\u6578\u64cd\u4f5c\u660e\u7d30]\n        H6[ACT_HI_COMMENT<br>\u7559\u8a00 / \u5099\u8a3b]\n        H7[ACT_HI_JOB_LOG<br>Job \u57f7\u884c\u65e5\u8a8c]\n        H8[ACT_HI_OP_LOG<br>\u64cd\u4f5c\u65e5\u8a8c \u4f7f\u7528\u8005\u884c\u70ba]\n        H9[ACT_HI_INCIDENT<br>\u7570\u5e38\u8655\u7406\u6b77\u53f2]\n    end\n\n%% \u6d41\u5411\n    A1 --\x3e A2 --\x3e A3 --\x3e A4\n    A4 --\x3e R1\n    R1 --\x3e|\u4efb\u52d9\u5b8c\u6210| H3\n    R2 --\x3e|\u8b8a\u6578\u8b8a\u52d5| H4\n    R3 --\x3e|\u4e8b\u4ef6\u89f8\u767c| H2\n    R4 --\x3e|\u57f7\u884c\u7d50\u679c| H7\n    R5 --\x3e|\u5b8c\u6210/\u5931\u6557| H7\n    R6 --\x3e|\u7570\u5e38\u7d50\u675f| H9\n    R1 --\x3e|\u7bc0\u9ede\u7d50\u675f| H2\n    R2 --\x3e|\u6700\u7d42\u8b8a\u6578\u5feb\u7167| H4\n    A2 --\x3e|\u6d41\u7a0b\u7d50\u675f| H1\n    H1 --\x3e|\u6574\u9ad4\u6d41\u7a0b\u7d50\u675f\u5f8c| H2\n    H2 --\x3e H3 --\x3e H4 --\x3e H5\n'}),"\n",(0,t.jsx)(n.h2,{id:"\u8aaa\u660e\u91cd\u9ede",children:"\u8aaa\u660e\u91cd\u9ede"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u968e\u6bb5"}),(0,t.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,t.jsx)(n.th,{children:"\u5be6\u969b\u8cc7\u6599\u8868"}),(0,t.jsx)(n.th,{children:"\u7279\u5fb5"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6d41\u7a0b\u555f\u52d5 (Start)"})}),(0,t.jsxs)(n.td,{children:["\u7531\u90e8\u7f72\u7684\u6d41\u7a0b\u5b9a\u7fa9\uff08",(0,t.jsx)(n.code,{children:"ACT_RE_PROCDEF"}),"\uff09\u7522\u751f\u57f7\u884c\u5be6\u4f8b\u3002"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"ACT_RU_EXECUTION"}),"\u3001",(0,t.jsx)(n.code,{children:"ACT_RU_TASK"}),"\u3001",(0,t.jsx)(n.code,{children:"ACT_RU_VARIABLE"})]}),(0,t.jsx)(n.td,{children:"\u5be6\u4f8b\u958b\u59cb\u5efa\u7acb\u6642\uff0c\u8cc7\u6599\u5beb\u5165 Runtime \u8868\u3002"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u57f7\u884c\u4e2d (Runtime)"})}),(0,t.jsx)(n.td,{children:"\u6d41\u7a0b\u7bc0\u9ede\u3001\u4efb\u52d9\u3001\u4e8b\u4ef6\u3001Job \u7b49\u6301\u7e8c\u9032\u884c\u4e2d\u3002"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"ACT_RU_*"})," \u8868\u7cfb\u5217"]}),(0,t.jsx)(n.td,{children:"\u5f15\u64ce\u4e0d\u65b7\u66f4\u65b0\u57f7\u884c\u72c0\u614b\uff0c\u9019\u662f\u53ef\u67e5\u8a62\u300c\u9032\u884c\u4e2d\u6d41\u7a0b\u300d\u7684\u8cc7\u6599\u4f86\u6e90\u3002"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6b77\u53f2\u6b78\u6a94 (History)"})}),(0,t.jsx)(n.td,{children:"\u4efb\u52d9\u5b8c\u6210\u3001\u8b8a\u6578\u8b8a\u66f4\u3001\u4e8b\u4ef6\u89f8\u767c\u5f8c\u5373\u540c\u6b65\u5beb\u5165\u3002"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"ACT_HI_*"})," \u8868\u7cfb\u5217"]}),(0,t.jsxs)(n.td,{children:["\u5beb\u5165\u901a\u5e38\u662f",(0,t.jsx)(n.strong,{children:"\u540c\u6b65\uff08synchronous history level\uff09"})," \u6216 ",(0,t.jsx)(n.strong,{children:"\u7570\u6b65\uff08async history job\uff09"}),"\u3002\u6d41\u7a0b\u7d50\u675f\u5f8c Runtime \u8868\u8cc7\u6599\u6703\u88ab\u522a\u9664\u3002"]})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"\u5be6\u969b\u751f\u547d\u9031\u671f\u7bc4\u4f8b\u4ee5-user-task-\u70ba\u4f8b",children:"\u5be6\u969b\u751f\u547d\u9031\u671f\u7bc4\u4f8b\uff08\u4ee5 User Task \u70ba\u4f8b\uff09"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u6d41\u7a0b\u968e\u6bb5"}),(0,t.jsx)(n.th,{children:"Runtime \u8868"}),(0,t.jsx)(n.th,{children:"History \u8868"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u5efa\u7acb\u4efb\u52d9"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"ACT_RU_TASK"})," \u65b0\u589e\u4e00\u7b46"]}),(0,t.jsxs)(n.td,{children:["\u540c\u6b65\u65b0\u589e ",(0,t.jsx)(n.code,{children:"ACT_HI_TASKINST"}),"\uff08startTime\uff09"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u4efb\u52d9\u9032\u884c\u4e2d"}),(0,t.jsx)(n.td,{children:"\u66f4\u65b0\u4efb\u52d9\u72c0\u614b / \u8b8a\u6578"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"ACT_HI_DETAIL"})," \u8a18\u9304\u8b8a\u6578\u8b8a\u5316"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u4efb\u52d9\u5b8c\u6210"}),(0,t.jsxs)(n.td,{children:["\u5f9e ",(0,t.jsx)(n.code,{children:"ACT_RU_TASK"})," \u522a\u9664"]}),(0,t.jsxs)(n.td,{children:["\u66f4\u65b0 ",(0,t.jsx)(n.code,{children:"ACT_HI_TASKINST"})," \u7684 endTime"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u6d41\u7a0b\u7d50\u675f"}),(0,t.jsxs)(n.td,{children:["\u5f9e ",(0,t.jsx)(n.code,{children:"ACT_RU_EXECUTION"})," \u522a\u9664"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"ACT_HI_PROCINST"})," endTime \u66f4\u65b0\u5b8c\u6210"]})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"\u5ef6\u4f38\u88dc\u5145\u6b77\u53f2\u7b49\u7d1ahistory-level",children:"\u5ef6\u4f38\u88dc\u5145\uff1a\u6b77\u53f2\u7b49\u7d1a\uff08History Level\uff09"}),"\n",(0,t.jsx)(n.p,{children:"Camunda \u900f\u904e\u8a2d\u5b9a history-level \u4f86\u63a7\u5236\u5beb\u5165 ACT_HI_* \u7684\u7d30\u7bc0\uff1a"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Level"}),(0,t.jsx)(n.th,{children:"\u8aaa\u660e"}),(0,t.jsx)(n.th,{children:"\u5beb\u5165\u7bc4\u570d"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"none"})}),(0,t.jsx)(n.td,{children:"\u4e0d\u8a18\u9304\u4efb\u4f55\u6b77\u53f2"}),(0,t.jsx)(n.td,{children:"\u7121"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"activity"})}),(0,t.jsx)(n.td,{children:"\u8a18\u9304\u7bc0\u9ede\u57f7\u884c"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ACT_HI_ACTINST"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"audit"})}),(0,t.jsx)(n.td,{children:"\u8a18\u9304\u4efb\u52d9\u3001\u8b8a\u6578\u7b49"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"ACT_HI_TASKINST"}),"\u3001",(0,t.jsx)(n.code,{children:"ACT_HI_VARINST"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"full"})," \u2705"]}),(0,t.jsx)(n.td,{children:"\u5b8c\u6574\u8a18\u9304\uff08\u9810\u8a2d\u5efa\u8b70\uff09"}),(0,t.jsxs)(n.td,{children:["\u6240\u6709 ",(0,t.jsx)(n.code,{children:"ACT_HI_*"})]})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var s=r(6540);const t={},d=s.createContext(t);function i(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);