<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://rhincodon.studio/en/blog</id>
    <title>Rhincodon Studio Blog</title>
    <updated>2025-11-27T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://rhincodon.studio/en/blog"/>
    <subtitle>Rhincodon Studio Blog</subtitle>
    <icon>https://rhincodon.studio/en/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Nx App 拆分優勢與策略步驟]]></title>
        <id>https://rhincodon.studio/en/blog/nx-app-split-strategy</id>
        <link href="https://rhincodon.studio/en/blog/nx-app-split-strategy"/>
        <updated>2025-11-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[以最安全的 Clone & Carve 策略，將單一 Angular Nx App 拆分為前台與後台兩個獨立應用，並可保留原有路由與逐步驗證。]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-背景說明">1. 背景說明<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#1-%E8%83%8C%E6%99%AF%E8%AA%AA%E6%98%8E" class="hash-link" aria-label="Direct link to 1. 背景說明" title="Direct link to 1. 背景說明" translate="no">​</a></h2>
<p>目前前端專案採用 Nx monorepo，原本僅有單一應用程式 <code>shopping-app</code>，同時承載：</p>
<ul>
<li>一般使用者（前台）功能</li>
<li>管理者／營運人員（後台）功能</li>
</ul>
<p>隨著功能擴充與角色複雜度提升，單一 App 逐漸出現以下問題：</p>
<ul>
<li>bundle 體積愈來愈大，首屏載入時間增加</li>
<li>測試與除錯範圍變廣，改一小段功能要驗證很多頁面</li>
<li>權限、導覽、UI 風格混雜在一起，維護成本高</li>
<li>部署策略無法細緻，例如：只想更新後台功能但仍須重建整個 App</li>
</ul>
<p>為解決上述問題，我們規劃將前端拆分為兩個獨立 App，並保留既有路由邏輯與使用者習慣。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-拆成兩個-app-的優勢">2. 拆成兩個 App 的優勢<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#2-%E6%8B%86%E6%88%90%E5%85%A9%E5%80%8B-app-%E7%9A%84%E5%84%AA%E5%8B%A2" class="hash-link" aria-label="Direct link to 2. 拆成兩個 App 的優勢" title="Direct link to 2. 拆成兩個 App 的優勢" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-架構與責任分離">2.1 架構與責任分離<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#21-%E6%9E%B6%E6%A7%8B%E8%88%87%E8%B2%AC%E4%BB%BB%E5%88%86%E9%9B%A2" class="hash-link" aria-label="Direct link to 2.1 架構與責任分離" title="Direct link to 2.1 架構與責任分離" translate="no">​</a></h3>
<p>拆分後我們會有兩個應用：</p>
<ul>
<li><code>shopping-app</code>：前台，面向一般使用者</li>
<li><code>backoffice-app</code>：後台，面向管理者／營運人員</li>
</ul>
<p>優勢：</p>
<ul>
<li>前後台的路由、版型、權限可以完全分開設計</li>
<li>開發時不會被另一個角色的 UI 汙染</li>
<li>規格討論可以針對各自 App 進行，不互相牽扯</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-打包與建置時間優化">2.2 打包與建置時間優化<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#22-%E6%89%93%E5%8C%85%E8%88%87%E5%BB%BA%E7%BD%AE%E6%99%82%E9%96%93%E5%84%AA%E5%8C%96" class="hash-link" aria-label="Direct link to 2.2 打包與建置時間優化" title="Direct link to 2.2 打包與建置時間優化" translate="no">​</a></h3>
<p>在 Nx 下，拆分多個 App 可以搭配：</p>
<ul>
<li>incremental build（增量編譯）</li>
<li>affected:* 指令（只建置有受影響的專案）</li>
</ul>
<p>實際效果：</p>
<ul>
<li>只修改後台程式碼時，可僅建置 <code>backoffice-app</code></li>
<li>前台沒有變動就不需重新 build，CI 時間與成本下降</li>
<li>本地開發時可以只啟動自己關心的 App，啟動速度較快</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-bundle-大小與載入效能改善">2.3 bundle 大小與載入效能改善<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#23-bundle-%E5%A4%A7%E5%B0%8F%E8%88%87%E8%BC%89%E5%85%A5%E6%95%88%E8%83%BD%E6%94%B9%E5%96%84" class="hash-link" aria-label="Direct link to 2.3 bundle 大小與載入效能改善" title="Direct link to 2.3 bundle 大小與載入效能改善" translate="no">​</a></h3>
<ul>
<li>前台不再需要下載後台相關的頁面與元件</li>
<li>Admin 專用 UI / library 不會出現在前台 bundle 中</li>
<li>Lazy loading 策略可以更乾淨，依 App 設計懸掛不同的 chunk</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-權限與安全性清晰化">2.4 權限與安全性清晰化<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#24-%E6%AC%8A%E9%99%90%E8%88%87%E5%AE%89%E5%85%A8%E6%80%A7%E6%B8%85%E6%99%B0%E5%8C%96" class="hash-link" aria-label="Direct link to 2.4 權限與安全性清晰化" title="Direct link to 2.4 權限與安全性清晰化" translate="no">​</a></h3>
<ul>
<li>後台 App 可以在 routing 層、部署層各自設計權限控管</li>
<li>反向代理（nginx / gateway）可針對不同 path/domain 做額外保護</li>
<li>不讓 admin 專用的頁面隨前台一起被發佈</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-部署與版本獨立">2.5 部署與版本獨立<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#25-%E9%83%A8%E7%BD%B2%E8%88%87%E7%89%88%E6%9C%AC%E7%8D%A8%E7%AB%8B" class="hash-link" aria-label="Direct link to 2.5 部署與版本獨立" title="Direct link to 2.5 部署與版本獨立" translate="no">​</a></h3>
<p>未來可實現：</p>
<ul>
<li>前台與後台採用不同的發版節奏</li>
<li>僅更新後台功能時，不動到前台 bundle</li>
<li>甚至可分別部署到不同 domain 或子路徑</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-拆分核心策略clone--carve">3. 拆分核心策略：Clone &amp; Carve<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#3-%E6%8B%86%E5%88%86%E6%A0%B8%E5%BF%83%E7%AD%96%E7%95%A5clone--carve" class="hash-link" aria-label="Direct link to 3. 拆分核心策略：Clone &amp; Carve" title="Direct link to 3. 拆分核心策略：Clone &amp; Carve" translate="no">​</a></h2>
<p>本次拆分採用「Clone &amp; Carve」策略：</p>
<blockquote>
<p>先完整複製，再在複製版本中慢慢「削減」成新形狀，而不是直接改原本的 App。</p>
</blockquote>
<p>流程概念：</p>
<ol>
<li>先複製現有 App → 得到兩份一模一樣的應用</li>
<li>確保兩個 App 都能正常 serve / build</li>
<li>在新 App 中逐步刪除不需要的功能頁面</li>
<li>建立路由／部署分流</li>
<li>拆完後，再逐步抽出共用的 libs</li>
</ol>
<p>好處：</p>
<ul>
<li>原本的 <code>shopping-app</code> 在拆分初期完全不被動到</li>
<li>出現問題可以隨時回退到舊的單一 App</li>
<li>每個步驟都可以單獨測試與驗證</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-視覺化流程與目錄結構">4. 視覺化流程與目錄結構<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#4-%E8%A6%96%E8%A6%BA%E5%8C%96%E6%B5%81%E7%A8%8B%E8%88%87%E7%9B%AE%E9%8C%84%E7%B5%90%E6%A7%8B" class="hash-link" aria-label="Direct link to 4. 視覺化流程與目錄結構" title="Direct link to 4. 視覺化流程與目錄結構" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-流程圖文字版">4.1 流程圖（文字版）<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#41-%E6%B5%81%E7%A8%8B%E5%9C%96%E6%96%87%E5%AD%97%E7%89%88" class="hash-link" aria-label="Direct link to 4.1 流程圖（文字版）" title="Direct link to 4.1 流程圖（文字版）" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[現有 shopping-app]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[複製為 backoffice-app]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[確認兩者可獨立 serve &amp; build]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[在 backoffice-app 內刪除前台頁面]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[建立兩者 routing / 部署分流]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[未來再抽出 shared libs]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Build / 部署 / 權限 全面分離]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-目錄結構變更">4.2 目錄結構變更<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#42-%E7%9B%AE%E9%8C%84%E7%B5%90%E6%A7%8B%E8%AE%8A%E6%9B%B4" class="hash-link" aria-label="Direct link to 4.2 目錄結構變更" title="Direct link to 4.2 目錄結構變更" translate="no">​</a></h3>
<p>拆分前：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apps/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shopping-app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pages/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      home</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      note</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      article</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      backoffice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      transcript</span><br></span></code></pre></div></div>
<p>拆分後：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apps/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shopping-app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pages/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      home</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      note</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      article</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      tag</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  backoffice-app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pages/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      backoffice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      transcript</span><br></span></code></pre></div></div>
<p>未來再視需求抽出 libs：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">libs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shared-model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shared-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shared-domain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shared-ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shared-utils</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-實作步驟操作手冊">5. 實作步驟（操作手冊）<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#5-%E5%AF%A6%E4%BD%9C%E6%AD%A5%E9%A9%9F%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8A" class="hash-link" aria-label="Direct link to 5. 實作步驟（操作手冊）" title="Direct link to 5. 實作步驟（操作手冊）" translate="no">​</a></h2>
<p>以下步驟以 Nx + Angular 為例，重點在「最小異動」與「可隨時回退」。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-複製現有-app">5.1 複製現有 App<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#51-%E8%A4%87%E8%A3%BD%E7%8F%BE%E6%9C%89-app" class="hash-link" aria-label="Direct link to 5.1 複製現有 App" title="Direct link to 5.1 複製現有 App" translate="no">​</a></h3>
<ol>
<li>
<p>在 repo 根目錄複製：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp -R apps/shopping-app apps/backoffice-app</span><br></span></code></pre></div></div>
</li>
<li>
<p>確認複製後目錄存在：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apps/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  shopping-app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  backoffice-app/</span><br></span></code></pre></div></div>
</li>
</ol>
<p>此時兩個 App 的內容完全相同。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="511-nginx-proxy-導流測試在拆分前先做">5.1.1 Nginx Proxy 導流測試（在拆分前先做）<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#511-nginx-proxy-%E5%B0%8E%E6%B5%81%E6%B8%AC%E8%A9%A6%E5%9C%A8%E6%8B%86%E5%88%86%E5%89%8D%E5%85%88%E5%81%9A" class="hash-link" aria-label="Direct link to 5.1.1 Nginx Proxy 導流測試（在拆分前先做）" title="Direct link to 5.1.1 Nginx Proxy 導流測試（在拆分前先做）" translate="no">​</a></h3>
<div class="language-nginx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-nginx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  listen 80;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  server_name yourdomain.com;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # 前台路由</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_pass http://localhost:4200;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # 後台路由</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  location /backoffice/ {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_pass http://localhost:4300;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # 避免 Angular 路由錯誤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  location /backoffice {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 301 /backoffice/;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>說明：</p>
<ul>
<li>在拆 App 之前，就先建立 nginx proxy 路由</li>
<li>nginx 充當反向代理，幫助我們先驗證 path 分流</li>
<li>然後再複製 app 並建立 <code>backoffice-app</code></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[加上 nginx proxy → 建立 / 與 /backoffice 路由分流]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[確認分流可正常把流量導向不同開發 port]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[複製 shopping-app → backoffice-app]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-調整-backoffice-專案設定">5.2 調整 backoffice 專案設定<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#52-%E8%AA%BF%E6%95%B4-backoffice-%E5%B0%88%E6%A1%88%E8%A8%AD%E5%AE%9A" class="hash-link" aria-label="Direct link to 5.2 調整 backoffice 專案設定" title="Direct link to 5.2 調整 backoffice 專案設定" translate="no">​</a></h3>
<p>在 <code>backoffice-app</code> 底下，調整下列檔案：</p>
<ol>
<li>
<p><code>project.json</code></p>
<ul>
<li>將 name 由 <code>shopping-app</code> 調整為 <code>backoffice-app</code></li>
<li>確定 <code>sourceRoot</code> 指向 <code>apps/backoffice-app/src</code></li>
</ul>
</li>
<li>
<p><code>tsconfig.app.json</code></p>
<ul>
<li>確認 <code>extends</code>、<code>files</code>、<code>include</code> 等路徑指向 backoffice-app</li>
</ul>
</li>
<li>
<p><code>index.html</code></p>
<ul>
<li>修改 <code>&lt;title&gt;</code> 例如：<code>Backoffice Admin</code></li>
</ul>
</li>
</ol>
<p>調整完成後，在本機執行：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nx serve shopping-app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nx serve backoffice-app</span><br></span></code></pre></div></div>
<p>確認兩個 App 都能啟動且畫面正常，即可進入下一步。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-在-backoffice-app-中刪除前台頁面">5.3 在 backoffice-app 中刪除前台頁面<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#53-%E5%9C%A8-backoffice-app-%E4%B8%AD%E5%88%AA%E9%99%A4%E5%89%8D%E5%8F%B0%E9%A0%81%E9%9D%A2" class="hash-link" aria-label="Direct link to 5.3 在 backoffice-app 中刪除前台頁面" title="Direct link to 5.3 在 backoffice-app 中刪除前台頁面" translate="no">​</a></h3>
<p>目標：在不影響 <code>shopping-app</code> 的前提下，慢慢把 <code>backoffice-app</code> 修剪成「只有後台功能」的應用。</p>
<p>做法：</p>
<ol>
<li>
<p>在 <code>backoffice-app</code> 中，先確定 routing 結構與檔案位置</p>
</li>
<li>
<p>針對明顯前台功能（例如：<code>home</code>, <code>note</code>, <code>article</code>, <code>tag</code>, <code>search</code>），依序：</p>
<ul>
<li>從 routing 設定中移除該 path</li>
<li>移除頁面元件檔案</li>
<li>移除對應的測試檔、style 等</li>
</ul>
</li>
<li>
<p>每移除一組路由／頁面，都進行一次：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nx build backoffice-app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nx serve backoffice-app</span><br></span></code></pre></div></div>
<p>確認：</p>
<ul>
<li>build 無錯誤</li>
<li>主要後台路徑（例如 <code>/backoffice</code>, <code>/admin</code>, <code>/transcript</code>）仍可正常運作</li>
</ul>
</li>
</ol>
<p>完成後，目錄大致會變成：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apps/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  backoffice-app/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pages/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      backoffice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      transcript</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-建立路由與部署分流">5.4 建立路由與部署分流<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#54-%E5%BB%BA%E7%AB%8B%E8%B7%AF%E7%94%B1%E8%88%87%E9%83%A8%E7%BD%B2%E5%88%86%E6%B5%81" class="hash-link" aria-label="Direct link to 5.4 建立路由與部署分流" title="Direct link to 5.4 建立路由與部署分流" translate="no">​</a></h3>
<p>在 gateway / nginx / 前端部署設定中，將路由切開，例如：</p>
<ul>
<li><code>/</code> 或 <code>/app</code> → 指向 <code>shopping-app</code> build 出來的 bundle</li>
<li><code>/backoffice</code> 或 <code>/admin</code> → 指向 <code>backoffice-app</code> build 出來的 bundle</li>
</ul>
<p>如此一來：</p>
<ul>
<li>使用者造訪前台時，不會載入後台的程式碼</li>
<li>後台可以獨立演進、獨立測試</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="55-拆分完成後的共用程式抽離後期">5.5 拆分完成後的共用程式抽離（後期）<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#55-%E6%8B%86%E5%88%86%E5%AE%8C%E6%88%90%E5%BE%8C%E7%9A%84%E5%85%B1%E7%94%A8%E7%A8%8B%E5%BC%8F%E6%8A%BD%E9%9B%A2%E5%BE%8C%E6%9C%9F" class="hash-link" aria-label="Direct link to 5.5 拆分完成後的共用程式抽離（後期）" title="Direct link to 5.5 拆分完成後的共用程式抽離（後期）" translate="no">​</a></h3>
<p>拆分前期不建議直接抽 libs，以免一次改動太大。</p>
<p>當兩個 App 穩定運作後，可以開始評估：</p>
<ul>
<li>共用的 model / DTO</li>
<li>共用的 API service</li>
<li>共用的 UI components</li>
<li>共用的 util / helper</li>
</ul>
<p>再逐步抽到 <code>libs/</code> 底下的 shared 專案中，搭配 Nx 提供的 dependency graph 逐步優化結構。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-測試與風險控管">6. 測試與風險控管<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#6-%E6%B8%AC%E8%A9%A6%E8%88%87%E9%A2%A8%E9%9A%AA%E6%8E%A7%E7%AE%A1" class="hash-link" aria-label="Direct link to 6. 測試與風險控管" title="Direct link to 6. 測試與風險控管" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-建議的測試順序">6.1 建議的測試順序<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#61-%E5%BB%BA%E8%AD%B0%E7%9A%84%E6%B8%AC%E8%A9%A6%E9%A0%86%E5%BA%8F" class="hash-link" aria-label="Direct link to 6.1 建議的測試順序" title="Direct link to 6.1 建議的測試順序" translate="no">​</a></h3>
<p>每一個拆分步驟都建議至少做：</p>
<ol>
<li>單一 App build 測試：<!-- -->
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nx build shopping-app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nx build backoffice-app</span><br></span></code></pre></div></div>
</li>
<li>本地手動驗證關鍵路由：<!-- -->
<ul>
<li>前台：主要使用者流程是否正常</li>
<li>後台：登入、查詢、管理功能是否正常</li>
</ul>
</li>
<li>重要節點時執行 e2e / smoke test</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-風險與對應策略">6.2 風險與對應策略<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#62-%E9%A2%A8%E9%9A%AA%E8%88%87%E5%B0%8D%E6%87%89%E7%AD%96%E7%95%A5" class="hash-link" aria-label="Direct link to 6.2 風險與對應策略" title="Direct link to 6.2 風險與對應策略" translate="no">​</a></h3>
<table><thead><tr><th>風險類型</th><th>說明</th><th>對應策略</th></tr></thead><tbody><tr><td>build 爆炸</td><td>一次改太多檔案</td><td>每次只做小步驟，改完就 build 一次</td></tr><tr><td>路由錯亂</td><td>path 指到錯的 App</td><td>將前後台 routing 寫在文件與設定中統一管理</td></tr><tr><td>共用程式被誤刪</td><td>後台仍需要前台某段邏輯</td><td>初期只刪除「明顯純 UI」頁面，不動 domain / service</td></tr><tr><td>難以回退</td><td>多步驟混在同一 commit</td><td>每個重要步驟分開 commit，必要時可 git revert</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-結語">7. 結語<a href="https://rhincodon.studio/en/blog/nx-app-split-strategy#7-%E7%B5%90%E8%AA%9E" class="hash-link" aria-label="Direct link to 7. 結語" title="Direct link to 7. 結語" translate="no">​</a></h2>
<p>本次 Nx App 拆分的目標，不是追求一次到位的「完美架構」，而是：</p>
<ol>
<li>在不影響現有使用者的情況下，先把前後台在應用層分離開來</li>
<li>降低 build 時間與 bundle 大小，改善開發與使用體驗</li>
<li>為未來的 libs 抽離與獨立部署鋪路</li>
</ol>
<p>核心心法：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Keep it working → Keep it separated → Keep it evolving</span><br></span></code></pre></div></div>
<p>先讓系統穩定分家，再持續演進結構，是目前最務實、風險最低的拆分路線。</p>]]></content>
        <author>
            <name>balnibarbian</name>
            <uri>https://rhincodon.studio</uri>
        </author>
        <category label="nx" term="nx"/>
        <category label="angular" term="angular"/>
        <category label="architecture" term="architecture"/>
        <category label="monorepo" term="monorepo"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[n8n Course Level 1]]></title>
        <id>https://rhincodon.studio/en/blog/n8n-course-level1</id>
        <link href="https://rhincodon.studio/en/blog/n8n-course-level1"/>
        <updated>2025-11-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[跟著人生攻略研究所所長，一步步完成 n8n Level 1 測驗的紀錄。]]></summary>
        <content type="html"><![CDATA[<p>跟著人生攻略研究所所長的腳步，正式踏進 n8n Course Level 1 的測驗流程。<br>
<!-- -->整體難度不算高，但實際作答時，還是有幾題需要重新確認邏輯與分類方式。</p>
<p>事前準備按著所長的教學完成註冊與金鑰取得：<br>
<a href="https://lifecheatslab.com/n8n-course/#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E8%A8%BB%E5%86%8A_Level_1_%E6%B8%AC%E9%A9%97%EF%BC%8C%E5%8F%96%E5%BE%97%E5%80%8B%E4%BA%BA%E9%87%91%E9%91%B0" target="_blank" rel="noopener noreferrer">https://lifecheatslab.com/n8n-course/#第一步：註冊_Level_1_測驗，取得個人金鑰</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="理論題">理論題<a href="https://rhincodon.studio/en/blog/n8n-course-level1#%E7%90%86%E8%AB%96%E9%A1%8C" class="hash-link" aria-label="Direct link to 理論題" title="Direct link to 理論題" translate="no">​</a></h3>
<p>在整份題庫裡，理論題的第 4 題與第 6 題特別容易讓人猶豫。</p>
<ul>
<li>
<p><strong>第 4 題</strong>：What can you do if there is no n8n node for an app/service that you want to use in a workflow?</p>
</li>
<li>
<p><strong>第 6 題</strong>：Which of the following are Trigger Nodes?<br>
<!-- -->依題目列出的選項來看，除了 Schedule node；Airtable node 實作上也可以。</p>
</li>
</ul>
<p>其他題目主要檢查對 n8n 基礎概念的掌握：哪些節點能啟動 workflow、Code node 必須回傳什麼格式、資料結構怎麼判讀等等。<br>
<!-- -->多利用官方文件與搜尋，大部分都能順利作答。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="實作題">實作題<a href="https://rhincodon.studio/en/blog/n8n-course-level1#%E5%AF%A6%E4%BD%9C%E9%A1%8C" class="hash-link" aria-label="Direct link to 實作題" title="Direct link to 實作題" translate="no">​</a></h3>
<p>實作題的部分只要掌握流程邏輯，其實不算太複雜。<br>
<!-- -->最方便的方式，是先匯入官方提供的完成版 workflow，再依照題目逐步調整即可。</p>
<p>官方 workflow JSON：<br>
<a href="https://docs.n8n.io/_workflows/courses/level-one/finished.json" target="_blank" rel="noopener noreferrer">https://docs.n8n.io/_workflows/courses/level-one/finished.json</a></p>
<p>匯入後，照題目要求調整各個節點：補上 IF 條件、調整資料格式、確認流程順序。<br>
<!-- -->Airtable 在這份測驗裡不需要真的去操作，直接略過就好，不會影響作答結果。<br>
<!-- -->整體流程清楚、節點之間的連動也好檢查，照著步驟實作很快就能完成。</p>
<p>搭配課程文件的補充說明：<br>
<a href="https://docs.n8n.io/courses/level-one/chapter-7/" target="_blank" rel="noopener noreferrer">https://docs.n8n.io/courses/level-one/chapter-7/</a></p>
<p>雖然只是 Level 1，但完成後看到進度亮起來，還是有種踏出第一步的成就感。</p>
<p><img decoding="async" loading="lazy" alt="n8n-course-level1.png" src="https://rhincodon.studio/en/assets/images/n8n-course-level1-c0cd91486111556753cc4d4c4626e4be.png" width="986" height="633" class="img_ev3q"></p>]]></content>
        <author>
            <name>balnibarbian</name>
            <uri>https://rhincodon.studio</uri>
        </author>
        <category label="n8n-course-level1" term="n8n-course-level1"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Why the World Calls Him “Da Vinci”]]></title>
        <id>https://rhincodon.studio/en/blog/leonardo-da-vinci-name</id>
        <link href="https://rhincodon.studio/en/blog/leonardo-da-vinci-name"/>
        <updated>2025-10-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Exploring why the world calls Leonardo “Da Vinci,” when it really just means “from Vinci.”]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p><em>“Leonardo di ser Piero da Vinci” — Leonardo, son of Piero from Vinci.</em></p>
</blockquote>
<p>Today I came across something interesting about <strong>Leonardo da Vinci</strong>, the legendary polymath who lived during the Renaissance.<br>
<!-- -->He was <strong>born on April 15, 1452</strong>, and <strong>died on 2 May 1519</strong>.</p>
<p>His full name was <strong>Leonardo di ser Piero da Vinci</strong>, which literally means:</p>
<blockquote>
<p><strong>Leonardo, son of Piero from Vinci</strong></p>
</blockquote>
<p>The phrase <strong>“da Vinci”</strong> simply means <em>“from Vinci”</em>, referring to a small town near Florence in the <strong>Republic of Florence (Repubblica Fiorentina)</strong>.</p>
<p>What’s fascinating is that the entire world now calls him <strong>“Da Vinci”</strong>,<br>
<!-- -->as if “Vinci” were his family name — but in reality, it’s just where he was born.</p>
<p>Imagine if a brilliant person were born in Taipei,<br>
<!-- -->and the whole world started calling them <strong>“Taipei”</strong> instead of their real name.<br>
<!-- -->That’s essentially what happened with Leonardo da Vinci.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="小結">小結<a href="https://rhincodon.studio/en/blog/leonardo-da-vinci-name#%E5%B0%8F%E7%B5%90" class="hash-link" aria-label="Direct link to 小結" title="Direct link to 小結" translate="no">​</a></h3>
<p>李奧納多的名字其實代表了他的出身：</p>
<blockquote>
<p><strong>Leonardo di ser Piero da Vinci = 李奧納多，皮耶羅之子，來自文西城。</strong></p>
</blockquote>
<p>但世人卻以他的出生地「文西」來稱呼他。<br>
<!-- -->這樣的現象不僅反映語言習慣，也讓我們看到歷史如何在傳播中重新塑造一個人的名字與身份。</p>]]></content>
        <author>
            <name>balnibarbian</name>
            <uri>https://rhincodon.studio</uri>
        </author>
        <category label="history" term="history"/>
        <category label="art" term="art"/>
        <category label="language" term="language"/>
        <category label="leonardo-da-vinci" term="leonardo-da-vinci"/>
    </entry>
</feed>